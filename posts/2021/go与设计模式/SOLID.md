# SOLID原则

[toc]

## 依赖反转

SOLID的最后一个原则是Dependency Injection（DI），即依赖注入原则。在认识DI前，先了解下另一个常见的概念，Inversion Of Controll（IOC），即控制反转。

### 控制反转

这里的控制，指的是对程序运行的控制。控制反转的核心就是要将控制逻辑和业务逻辑分开，不要在业务逻辑里写控制逻辑，这会导致控制逻辑依赖于业务逻辑，而是应该让业务逻辑依赖控制逻辑。

有个电灯和电器的例子，电灯是控制逻辑，电器是业务逻辑，不要在电器中实现开关，而是要把开关设计成一种协议，让电器都依赖于这种协议，降低代码复杂度，提高代码复用度。

换成程序代码的话，正常情况下，对函数调用都是知道其函数名、参数类型和返回值，属于主动的调用。当采用控制反转后，主调方就不是直接调用函数，而是使用框架代码间接的调用。