# ip格式
ip由32位二进制数构成，分成4组，每组以.分隔，再将其转化成十进制
10101100.00010100.00000001.00000001

同时ip地址由两部分组成  
网络地址+主机标识

同一个网络标识下，主机标识必须不同；不同网络标识，可以有同样的主机标识  
例如192.168.128.10和192.168.128.11是同一个网络标识下的不同主机，其中网络标识地址是192.168.128.1  
例如192.168.128.11和192.168.144.11是不同网络标识下的两台主机，其主机标识是一样的。

# ip分类
## A类地址
A类地址的网络地址占8bit，ip地址第一位为0时属于A类地址，从第1位到第8位是网络标识

|00000000 (0)| -> |01111111 (127)|

第1位固定，后面7位则可以有2^7=128个网络组合，在这个组合中0和127属于保留地址，因此A类地址最多有128-2=126个网络地址

A类地址后24位是主机标识，总共有2^24 = 16777216个主机，其中全部为0和全部为1的地址是保留地址，则共有16777216 -2 = 16777214个主机地址

## B类地址
B类地址的网络地址占16bit，即从第一位到第16位，ip地址前两位为10时属于B类地址

|10000000.00000000 (128.0)| -> |10111111.11111111 (191.255)|

前两位固定，后面14位则可以有2^14 = 16384个网络组合，在这个组合中128.0和191.255属于保留地址，因此B类地址最多有16384 - 2 = 16382个网络地址

而对于主机地址，从第17位开始到32位，共2^16=65536个地址，其中全为0和全为1的地址是保留地址，因此B类地址的一个网络地址，可以分配65534个主机地址

## C类地址
C类地址的网络地址占24位，即从第一位到24位，ip地址前3位为110时属于C类地址

|11000000.00000000.00000000 (192.0.0)| -> |11011111.11111111.11111111 (233.255.255)|

前3位固定，后面21为则可以有2^21=2097152个组合，在这个组合中192.0.0.和223.255.255属于保留地址，因此C类地址最多有2097152 - 2 = 2097150个网络地址

而对于主机地址，从第25位到32位，供2^8=256个地址，其中全为0和全为1的地址是保留地址，因此C类地址的一个网络地址，可以分配254个主机地址

# 广播地址
将主机地址全部设为1的地址即为广播地址，如172.20.0.0/16的广播地址为172.20.255.255。

广播分为本地广播和直接广播

在本网地址内的广播即为本地广播，例如192.168.0.0/24的广播地址为192.168.0.255，在同个网段内的主机都能被广播到。

在不同网络之间的广播叫直接广播，例如192.168.0.0/24的主机向192.168.1.255/24的目标地址发送ip包。收到这个包的路由器，将数据转发给192.168.1.0/24，从而使得所有192.168.1.1~192.168.1.254的主机都能收到这个包。

